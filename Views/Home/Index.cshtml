@using MvcApp.ViewModels
@model Index
@{
    Layout = "/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Home Page";
    string helloClass = null;
}

<table class="table table-striped">
  <thead>
    <tr>
      <th>
        Name
    </th>
    <th>
        Completed
    </th>
    <th>
        Updated At
    </th>
    <th></th>
</tr>
</thead>
<tbody>
    @foreach (var item in Model.Todos)
    {
    <tr>
        <th>
          @item.Name
      </th>
      <th>
          @item.Completed
      </th>
      <th>
          @item.UpdatedAt
      </th>
      <th>
          @using (Html.BeginForm("Toggle","Home", new { Id = item.Name }, FormMethod.Post, new {style="display: inline"}))
          {
          <button type="submit" class="btn btn-default">@(item.Completed ? "Uncomplete" : "Complete")</button>
      }
      @using (Html.BeginForm("Delete","Home", new { Id = item.Name }, FormMethod.Post, new {style="display: inline"}))
      {
      <button type="submit" class="btn btn-default">Delete</button>
  }
</th>
</tr>
}
</tbody>
</table>
